{
  "name": "BotConfig",
  "type": "object",
  "properties": {
    "bot_id": {
      "type": "string",
      "description": "Reference to the Discord bot"
    },
    "server_id": {
      "type": "string",
      "description": "Discord server ID this config applies to"
    },
    "server_name": {
      "type": "string",
      "description": "Discord server name for display"
    },
    "config_type": {
      "type": "string",
      "enum": [
        "global",
        "server_specific"
      ],
      "default": "global"
    },
    "moderation": {
      "type": "object",
      "properties": {
        "auto_mod_enabled": {
          "type": "boolean",
          "default": true
        },
        "spam_detection": {
          "type": "boolean",
          "default": true
        },
        "bad_word_filter": {
          "type": "boolean",
          "default": false
        },
        "max_warnings": {
          "type": "number",
          "default": 3
        },
        "auto_ban_enabled": {
          "type": "boolean",
          "default": false
        },
        "log_channel": {
          "type": "string"
        },
        "mute_role": {
          "type": "string"
        }
      }
    },
    "music": {
      "type": "object",
      "properties": {
        "max_queue_size": {
          "type": "number",
          "default": 50
        },
        "default_volume": {
          "type": "number",
          "default": 50
        },
        "auto_leave_timeout": {
          "type": "number",
          "default": 300
        },
        "dj_role_required": {
          "type": "boolean",
          "default": false
        },
        "allowed_channels": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "sources": {
          "type": "object",
          "properties": {
            "youtube": {
              "type": "boolean",
              "default": true
            },
            "spotify": {
              "type": "boolean",
              "default": true
            },
            "soundcloud": {
              "type": "boolean",
              "default": false
            }
          }
        }
      }
    },
    "economy": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true
        },
        "currency_name": {
          "type": "string",
          "default": "coins"
        },
        "currency_symbol": {
          "type": "string",
          "default": "ðŸ’°"
        },
        "daily_reward": {
          "type": "number",
          "default": 100
        },
        "work_reward_min": {
          "type": "number",
          "default": 50
        },
        "work_reward_max": {
          "type": "number",
          "default": 200
        },
        "work_cooldown": {
          "type": "number",
          "default": 3600
        },
        "shop_enabled": {
          "type": "boolean",
          "default": true
        },
        "initial_balance": {
          "type": "number",
          "default": 0
        }
      }
    },
    "levelling": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true
        },
        "xp_per_message_min": {
          "type": "number",
          "default": 15
        },
        "xp_per_message_max": {
          "type": "number",
          "default": 25
        },
        "xp_cooldown": {
          "type": "number",
          "default": 60
        },
        "level_up_message": {
          "type": "string",
          "default": "GG {user}, you just advanced to level {level}!"
        },
        "level_up_channel": {
          "type": "string",
          "description": "Channel for level up messages (empty for current channel)"
        },
        "ignored_channels": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "no_xp_roles": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "level_rewards": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "level": {
                "type": "number"
              },
              "role_id": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "logging": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true
        },
        "log_channel": {
          "type": "string"
        },
        "events": {
          "type": "object",
          "properties": {
            "message_edit": {
              "type": "boolean",
              "default": true
            },
            "message_delete": {
              "type": "boolean",
              "default": true
            },
            "member_join": {
              "type": "boolean",
              "default": true
            },
            "member_leave": {
              "type": "boolean",
              "default": true
            },
            "role_create": {
              "type": "boolean",
              "default": true
            },
            "role_update": {
              "type": "boolean",
              "default": true
            },
            "role_delete": {
              "type": "boolean",
              "default": true
            },
            "channel_create": {
              "type": "boolean",
              "default": false
            },
            "channel_update": {
              "type": "boolean",
              "default": false
            },
            "channel_delete": {
              "type": "boolean",
              "default": false
            },
            "voice_channel": {
              "type": "boolean",
              "default": false
            }
          }
        }
      }
    },
    "tickets": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": false
        },
        "ticket_category": {
          "type": "string",
          "description": "Discord category ID for new tickets"
        },
        "support_roles": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "max_tickets_per_user": {
          "type": "number",
          "default": 1
        },
        "close_confirmation": {
          "type": "boolean",
          "default": true
        },
        "transcripts_channel": {
          "type": "string"
        }
      }
    },
    "reaction_roles": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true
        }
      }
    },
    "announcements": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": false
        }
      }
    },
    "commands": {
      "type": "object",
      "properties": {
        "disabled_commands": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "custom_commands": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "response": {
                "type": "string"
              },
              "permissions": {
                "type": "string"
              }
            }
          }
        },
        "command_cooldown": {
          "type": "number",
          "default": 5
        }
      }
    },
    "notifications": {
      "type": "object",
      "properties": {
        "welcome_message_enabled": {
          "type": "boolean",
          "default": false
        },
        "welcome_channel": {
          "type": "string"
        },
        "welcome_message": {
          "type": "string"
        },
        "leave_message_enabled": {
          "type": "boolean",
          "default": false
        },
        "leave_channel": {
          "type": "string"
        }
      }
    },
    "permissions": {
      "type": "object",
      "properties": {
        "admin_roles": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "moderator_roles": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "allowed_channels": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "blacklisted_users": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "api_settings": {
      "type": "object",
      "properties": {
        "webhook_url": {
          "type": "string"
        },
        "api_enabled": {
          "type": "boolean",
          "default": false
        },
        "rate_limit": {
          "type": "number",
          "default": 100
        },
        "allowed_ips": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    }
  },
  "required": [
    "bot_id",
    "config_type"
  ]
}