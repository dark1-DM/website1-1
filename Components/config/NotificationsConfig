import React from 'react';
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Label } from "@/components/ui/label";
import { Input } from "@/components/ui/input";
import { Textarea } from "@/components/ui/textarea";
import { Switch } from "@/components/ui/switch";
import { Separator } from "@/components/ui/separator";

export default function NotificationsConfig({ config, onChange }) {
  const handleToggle = (key, value) => {
    onChange({ [key]: value });
  };

  const handleInputChange = (key, value) => {
    onChange({ [key]: value });
  };

  return (
    <div className="space-y-6">
      <Card className="bg-[#1a1a1a] border-gray-700">
        <CardHeader>
          <CardTitle className="text-white flex items-center gap-2">
            ðŸ‘‹ Welcome Messages
          </CardTitle>
        </CardHeader>
        <CardContent className="space-y-4">
          <div className="flex items-center justify-between">
            <div>
              <Label className="text-gray-300">Enable Welcome Messages</Label>
              <p className="text-sm text-gray-500">Send welcome message to new members</p>
            </div>
            <Switch
              checked={config.welcome_message_enabled}
              onCheckedChange={(value) => handleToggle('welcome_message_enabled', value)}
            />
          </div>

          {config.welcome_message_enabled && (
            <>
              <Separator className="bg-gray-700" />
              <div>
                <Label className="text-gray-300">Welcome Channel ID</Label>
                <Input
                  placeholder="123456789012345678"
                  value={config.welcome_channel}
                  onChange={(e) => handleInputChange('welcome_channel', e.target.value)}
                  className="bg-[#2C2F33] border-gray-600 text-white mt-2"
                />
              </div>

              <div>
                <Label className="text-gray-300">Welcome Message</Label>
                <Textarea
                  placeholder="Welcome {user} to {server}! We hope you enjoy your stay."
                  value={config.welcome_message}
                  onChange={(e) => handleInputChange('welcome_message', e.target.value)}
                  className="bg-[#2C2F33] border-gray-600 text-white mt-2 min-h-[100px]"
                />
                <p className="text-sm text-gray-500 mt-1">
                  Use {`{user}`} for username and {`{server}`} for server name
                </p>
              </div>
            </>
          )}
        </CardContent>
      </Card>

      <Card className="bg-[#1a1a1a] border-gray-700">
        <CardHeader>
          <CardTitle className="text-white flex items-center gap-2">
            ðŸ‘‹ Leave Messages
          </CardTitle>
        </CardHeader>
        <CardContent className="space-y-4">
          <div className="flex items-center justify-between">
            <div>
              <Label className="text-gray-300">Enable Leave Messages</Label>
              <p className="text-sm text-gray-500">Send message when members leave</p>
            </div>
            <Switch
              checked={config.leave_message_enabled}
              onCheckedChange={(value) => handleToggle('leave_message_enabled', value)}
            />
          </div>

          {config.leave_message_enabled && (
            <>
              <Separator className="bg-gray-700" />
              <div>
                <Label className="text-gray-300">Leave Channel ID</Label>
                <Input
                  placeholder="123456789012345678"
                  value={config.leave_channel}
                  onChange={(e) => handleInputChange('leave_channel', e.target.value)}
                  className="bg-[#2C2F33] border-gray-600 text-white mt-2"
                />
              </div>
            </>
          )}
        </CardContent>
      </Card>

      <Card className="bg-[#1a1a1a] border-gray-700">
        <CardHeader>
          <CardTitle className="text-white">Other Notifications</CardTitle>
        </CardHeader>
        <CardContent className="space-y-4">
          <div className="flex items-center justify-between">
            <div>
              <Label className="text-gray-300">Level-Up Notifications</Label>
              <p className="text-sm text-gray-500">Notify users when they level up</p>
            </div>
            <Switch
              checked={config.level_up_notifications}
              onCheckedChange={(value) => handleToggle('level_up_notifications', value)}
            />
          </div>
        </CardContent>
      </Card>
    </div>
  );
}